using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class PlayerManager : MonoBehaviour
{
  public GameObject target;


  public GameObject Player1;
  public GameObject Player2;

  public bool Player1Selected;
  public bool Player2Selected;

  public bool Player1Playing;
  public bool Player2Playing;


    // Start is called before the first frame update
    void Awake()

    {
      this.GetComponent<Movimiento>().enabled = false;
    }

    void Start()
    {


      Player1Selected=true;
      Player2Selected=false;

      Player1Playing=false;
      Player2Playing=false;

    }

    // Update is called once per frame
    void Update()
    {
        //seleccion de jugador mediante boton mientras ataca el contrario//
      /*
        if(Player1Selected==true)
        {
          Player1Playing=true;
          Player2Playing=false;
        }
        if(Player2Selected==true)

        {
          Player1Playing=false;
          Player2Playing=true;

        }

        if(Player1Playing==true)
        {
          this.GetComponent<Movimiento>().enabled = true;
        }
        if(Player2Playing==true)

        {
          this.GetComponent<Movimiento>().enabled = true;

        }

        if(Input.GetKey("space"))
        {
              if(Player1Selected==true)
              {

                Player2Selected=false;

              }

        }

        else
        {
              if(Player2Selected==false)
              {

                Player2Selected=true;

              }

        }
*/



    }

    public void ActivePlayer()

    {
    //Esto hace que se active el jugador más cercano al balón//
    GameObject[] ball;
    ball = GameObject.FindGameObjectsWithTag("Ball");
    Vector3 shortestDistanceToBall = new Vector3(5, 5, 5);



    for (int i = 0; i < ball.Length; i++)
    {
      Vector3 distanceToBall = transform.position - ball[i].transform.position;

      if (distanceToBall.magnitude < shortestDistanceToBall.magnitude)
      {
        shortestDistanceToBall = transform.position - ball[i].transform.position;
        target = ball[i];

        this.GetComponent<Movimiento>().enabled = true;

      }

      else

      {

        this.GetComponent<Movimiento>().enabled = false;

      }

    }


    }




}
